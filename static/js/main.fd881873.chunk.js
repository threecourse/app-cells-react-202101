(this["webpackJsonpapp-cells"]=this["webpackJsonpapp-cells"]||[]).push([[0],{16:function(t,e,n){t.exports={cell:"Cell_cell__Yxqyq","is-right-cell":"Cell_is-right-cell__2Fkb9","is-bottom-cell":"Cell_is-bottom-cell__3T7Bt","inner-cell":"Cell_inner-cell__27mIz","main-cell":"Cell_main-cell__3p3eh","src-cell":"Cell_src-cell__3ndsn","dst-cell":"Cell_dst-cell__3q2Q0","index-cell":"Cell_index-cell__1W_f6","header-cell":"Cell_header-cell__3avzH"}},31:function(t,e,n){t.exports={"navbar-brand":"NavBar_navbar-brand__1bJXM"}},39:function(t,e,n){},40:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var s=n(2),c=n(0),r=n.n(c),a=n(20),i=n.n(a),o=(n(38),n(39),n(40),n(15)),l=n(12),d=n(22),u=n(7),h=n(4);function x(t,e){for(var n=e,s=t,c=[],r=0;r<t;r++)c.push("R".concat(r));for(var a=[],i=0;i<e;i++)a.push("C".concat(i));for(var o=[],l=0;l<t;l++){for(var d=[],u=0;u<e;u++)d.push(0);o.push(d)}return{header:a,index:c,data:o,headerNextId:n,indexNextId:s}}function f(t,e,n,s){for(var c=[],r=0;r<t.data.length;r++){for(var a=[],i=0;i<t.data[0].length;i++){var o=t.data[r][i]+(r===n&&i===s?e:0);a.push(o)}c.push(a)}return Object(h.a)(Object(h.a)({},t),{},{data:c})}function p(t,e,n,s,c){for(var r=[],a=t.data[e][n],i=t.data[s][c],o=0;o<t.data.length;o++){for(var l=[],d=0;d<t.data[0].length;d++){var u=t.data[o][d];l.push(u)}r.push(l)}return r[e][n]=i,r[s][c]=a,Object(h.a)(Object(h.a)({},t),{},{data:r})}function j(t,e,n){for(var s=[],c=[],r=function(t){var s=0;return t===n?s=e-n:n<e&&t>n&&t<=e?s=-1:e<n&&t<n&&t>=e&&(s=1),s},a=0;a<t.data[0].length;a++){var i=t.header[a+r(a)];c.push(i)}for(var o=0;o<t.data.length;o++){for(var l=[],d=0;d<t.data[0].length;d++){var u=t.data[o][d+r(d)];l.push(u)}s.push(l)}return Object(h.a)(Object(h.a)({},t),{},{data:s,header:c})}function y(t,e,n){for(var s=[],c=[],r=function(t){var s=0;return t===n?s=e-n:n<e&&t>n&&t<=e?s=-1:e<n&&t<n&&t>=e&&(s=1),s},a=0;a<t.data.length;a++){var i=t.index[a+r(a)];c.push(i)}for(var o=0;o<t.data.length;o++){for(var l=[],d=0;d<t.data[0].length;d++){var u=t.data[o+r(o)][d];l.push(u)}s.push(l)}return Object(h.a)(Object(h.a)({},t),{},{data:s,index:c})}function O(t,e,n,s){for(var c=[],r=t.data.length,a=0===r?0:t.data[0].length,i=[],o=[],l=t.headerNextId,d=t.indexNextId,u=0;u<e;u++)u<r?o.push(t.index[u]):(o.push("R".concat(d)),d+=1);for(var h=0;h<n;h++)h<a?i.push(t.header[h]):(i.push("C".concat(l)),l+=1);for(var x=0;x<e;x++){for(var f=[],p=0;p<n;p++){var j=x<r&&p<a?t.data[x][p]:s;f.push(j)}c.push(f)}return{data:c,index:o,header:i,headerNextId:l,indexNextId:d}}var b=x(8,8);var v=Object(o.b)({gridState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0,n=e.payload,s=t.data.length,c=0===s?0:t.data[0].length;switch(e.type){case"GRIDSTATE_RESET":return x(n.H,n.W);case"GRIDSTATE_UPDATE":return f(t,e.payload.addition,e.payload.y,e.payload.x);case"GRIDSTATE_SWAP":return p(t,e.payload.srcY,e.payload.srcX,e.payload.dstY,e.payload.dstX);case"GRIDSTATE_ADD_ROW":return O(t,s+1,c,0);case"GRIDSTATE_REMOVE_ROW":return O(t,Math.max(s-1,0),c,0);case"GRIDSTATE_ADD_COLUMN":return O(t,s,c+1,0);case"GRIDSTATE_REMOVE_COLUMN":return O(t,s,Math.max(c-1,0),0);case"GRIDSTATE_MOVE_HEADER":return j(t,e.payload.srcX,e.payload.dstX);case"GRIDSTATE_MOVE_INDEX":return y(t,e.payload.srcY,e.payload.dstY);default:return t}}}),m=n(47),E=n(48),g=n(49),_=n(31),S=n.n(_),R=function(){return Object(s.jsx)("div",{children:Object(s.jsxs)(m.a,{color:"light",light:!0,expand:"md",children:[Object(s.jsx)(E.a,{className:S.a["navbar-brand"],children:"React Simple Cells"}),Object(s.jsx)(g.a,{className:"mx-2",children:Object(s.jsx)(d.b,{to:"/spreadsheet",children:"spreadsheet"})})]})})},T=n(50),D=function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(R,{}),Object(s.jsx)(T.a,{fluid:"true",children:t.children})]})},I=n(51),w=n(52),C=n(53),A=function(){var t=Object(l.b)(),e={props:{color:"secondary",onClick:function(){t({type:"GRIDSTATE_RESET",payload:{H:6,W:6}})}},text:"Reset Cells"},n={props:{color:"secondary",onClick:function(){t({type:"GRIDSTATE_ADD_ROW"})}},text:"Add Row"},c={props:{color:"secondary",onClick:function(){t({type:"GRIDSTATE_REMOVE_ROW"})}},text:"Remove Row"},r={props:{color:"secondary",onClick:function(){t({type:"GRIDSTATE_ADD_COLUMN"})}},text:"Add Column"},a={props:{color:"secondary",onClick:function(){t({type:"GRIDSTATE_REMOVE_COLUMN"})}},text:"Remove Column"};return Object(s.jsxs)(T.a,{className:"py-4 mx-4",children:[Object(s.jsx)(I.a,{className:"my-2 align-items-center",children:Object(s.jsx)(w.a,{xs:"auto",className:"px-0 mx-1",children:Object(s.jsxs)(C.a,Object(h.a)(Object(h.a)({},e.props),{},{children:[" ",e.text," "]}))})}),Object(s.jsxs)(I.a,{className:"my-2 align-items-center",children:[Object(s.jsx)(w.a,{xs:"auto",className:"px-0 mx-1",children:Object(s.jsxs)(C.a,Object(h.a)(Object(h.a)({},n.props),{},{children:[" ",n.text," "]}))}),Object(s.jsx)(w.a,{xs:"auto",className:"px-0 mx-1",children:Object(s.jsxs)(C.a,Object(h.a)(Object(h.a)({},c.props),{},{children:[" ",c.text," "]}))})]}),Object(s.jsxs)(I.a,{className:"my-2 align-items-center",children:[Object(s.jsx)(w.a,{xs:"auto",className:"px-0 mx-1",children:Object(s.jsxs)(C.a,Object(h.a)(Object(h.a)({},r.props),{},{children:[" ",r.text," "]}))}),Object(s.jsx)(w.a,{xs:"auto",className:"px-0 mx-1",children:Object(s.jsx)(C.a,Object(h.a)(Object(h.a)({},a.props),{},{children:a.text}))})]})]})},M=n(32),P=n(16),N=n.n(P),k=function(t){var e,n="undefined"===typeof t.classes?[]:t.classes,c="undefined"===typeof t.onClick?function(){}:t.onClick,r=[N.a.cell],a=Object(M.a)(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;r.push(N.a[i])}}catch(l){a.e(l)}finally{a.f()}t.isRightEnd&&r.push(N.a["is-right-cell"]),t.isBottom&&r.push(N.a["is-bottom-cell"]);var o={top:"".concat(t.top,"px"),left:"".concat(t.left,"px"),width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),opacity:t.opacity,zIndex:t.zIndex};return Object(s.jsx)("div",{className:r.join(" "),style:o,onClick:c,children:Object(s.jsx)("div",{className:N.a["inner-cell"],children:t.content})})},G=n(17),B=n(13),X=n(14),W=function(){function t(e,n){Object(B.a)(this,t),this.x=void 0,this.y=void 0,this.x=e,this.y=n}return Object(X.a)(t,[{key:"isEmpty",value:function(){return-1===this.x}}]),t}(),Y=function(){function t(e){Object(B.a)(this,t),this.x=void 0,this.x=e}return Object(X.a)(t,[{key:"isEmpty",value:function(){return-1===this.x}}]),t}(),F=function(){function t(e){Object(B.a)(this,t),this.y=void 0,this.y=e}return Object(X.a)(t,[{key:"isEmpty",value:function(){return-1===this.y}}]),t}(),U=function(){function t(e,n,s){Object(B.a)(this,t),this.src=void 0,this.dst=void 0,this.startPos=void 0,this.src=e,this.dst=n,this.startPos=s}return Object(X.a)(t,null,[{key:"Empty",value:function(){return new t(new Y(-1),new Y(-1),{x:0,y:0})}}]),t}(),V=function(){function t(e,n,s){Object(B.a)(this,t),this.src=void 0,this.dst=void 0,this.startPos=void 0,this.src=e,this.dst=n,this.startPos=s}return Object(X.a)(t,null,[{key:"Empty",value:function(){return new t(new F(-1),new F(-1),{x:0,y:0})}}]),t}(),z=function(){function t(e,n,s){Object(B.a)(this,t),this.src=void 0,this.dst=void 0,this.startPos=void 0,this.src=e,this.dst=n,this.startPos=s}return Object(X.a)(t,null,[{key:"Empty",value:function(){return new t(new W(-1,-1),new W(-1,-1),{x:0,y:0})}}]),t}();function L(){var t=Object(l.c)((function(t){return t.gridState.data})),e=Object(l.b)(),n=t.length,s=0==n?0:t[0].length,r=Object(c.useState)({x:0,y:0}),a=Object(G.a)(r,2),i=a[0],o=a[1],d=Object(c.useState)({x:0,y:0}),u=Object(G.a)(d,2),x=u[0],f=u[1],p=Object(c.useState)(U.Empty()),j=Object(G.a)(p,2),y=j[0],O=j[1],b=Object(c.useState)(V.Empty()),v=Object(G.a)(b,2),m=v[0],E=v[1],g=Object(c.useState)(z.Empty()),_=Object(G.a)(g,2),S=_[0],R=_[1],T=10;function D(t){var e=t.currentTarget.getBoundingClientRect();return{x:t.pageX-e.left,y:t.pageY-e.top}}function I(t){return{x:t.x-100-T,y:t.y-50-T}}function w(t){return{x:t.x+i.x,y:t.y+i.y}}function C(t){return t.x>=0&&t.x<800&&t.y>=0&&t.y<600}function A(t){return M(P(t))}function M(t){return t.x>=0&&t.x<s&&t.y>=0&&t.y<n}function P(t){var e=w(t),n=Math.floor(e.x/100),s=Math.floor(e.y/50);return new W(n,s)}function N(t){return t.x>=0&&t.x<800&&t.y>=-60&&t.y<-10}function k(t){return B(X(t))}function B(t){return t.x>=0&&t.x<s}function X(t){var e=w(t),n=Math.floor(e.x/100);return new Y(n)}function L(t){return t.x>=-110&&t.x<-10&&t.y>=0&&t.y<600}function H(t){return q(J(t))}function q(t){return t.y>=0&&t.y<n}function J(t){var e=w(t),n=Math.floor(e.y/50);return new F(n)}var Q=y,K=function(t){return t===Q.src.x},Z=m,$=function(t){return t===Z.src.y};return{cellMoveInfo:{isSrcCell:function(t,e){return e===S.src.x&&t===S.src.y},isDstCell:function(t,e){return e===S.dst.x&&t===S.dst.y},posOffset:function(t,e){return{y:e===S.src.x&&t===S.src.y?x.y-S.startPos.y:0,x:e===S.src.x&&t===S.src.y?x.x-S.startPos.x:0}}},headerMoveInfo:{isSrc:K,isRightEmpty:function(t){return t<Q.src.x&&t===Q.dst.x-1||t>Q.src.x&&t===Q.dst.x},xPosOffset:function(t){return K(t)?x.x-Q.startPos.x:0},xOffset:function(t){return t<Q.src.x&&t>=Q.dst.x?1:t>Q.src.x&&t<=Q.dst.x?-1:0}},indexMoveInfo:{isSrc:$,yPosOffset:function(t){return $(t)?x.y-Z.startPos.y:0},isBottomEmpty:function(t){return t<Z.src.y&&t===Z.dst.y-1||t>Z.src.y&&t===Z.dst.y},yOffset:function(t){return t<Z.src.y&&t>=Z.dst.y?1:t>Z.src.y&&t<=Z.dst.y?-1:0}},scrollPosition:i,gridEvents:{onMouseDown:function(t){t.preventDefault();var e=I(D(t));if(f(e),y.src.isEmpty()&&N(e)&&k(e)){var n=X(e);O({src:new Y(n.x),dst:new Y(n.x),startPos:e})}if(m.src.isEmpty()&&L(e)&&H(e)){var s=J(e);E({src:new F(s.y),dst:new F(s.y),startPos:e})}if(S.src.isEmpty()&&C(e)&&A(e)){var c=P(e);R({src:new W(c.x,c.y),dst:new W(c.x,c.y),startPos:e})}},onMouseMove:function(t){t.preventDefault();var e=I(D(t));if(f(e),y.src.isEmpty()||(N(e)?k(e)&&O((function(t){return Object(h.a)(Object(h.a)({},t),{},{dst:X(e)})})):O(U.Empty())),m.src.isEmpty()||(L(e)?H(e)&&E((function(t){return Object(h.a)(Object(h.a)({},t),{},{dst:J(e)})})):E(V.Empty())),!S.src.isEmpty())if(C(e)){if(A(e)){var n=P(e);R((function(t){return Object(h.a)(Object(h.a)({},t),{},{dst:new W(n.x,n.y)})}))}}else R(z.Empty())},onMouseUp:function(t){var n,s,c,r,a,i;t.preventDefault(),y.src.isEmpty()||(n=y.src,s=y.dst,B(n)&&B(s)&&(n.x===s.x||e({type:"GRIDSTATE_MOVE_HEADER",payload:{srcX:n.x,dstX:s.x}})),O(U.Empty())),m.src.isEmpty()||(c=m.src,r=m.dst,q(c)&&q(r)&&(c.y===r.y||e({type:"GRIDSTATE_MOVE_INDEX",payload:{srcY:c.y,dstY:r.y}})),E(V.Empty())),S.src.isEmpty()||(a=S.src,i=S.dst,M(a)&&M(i)&&(a.y==i.y&&a.x===i.x?e({type:"GRIDSTATE_UPDATE",payload:{addition:10,y:a.y,x:a.x}}):e({type:"GRIDSTATE_SWAP",payload:{srcY:a.y,srcX:a.x,dstY:i.y,dstX:i.x}})),R(z.Empty()))}},dataFrameEvents:{onScroll:function(t){var e=t.target.scrollTop,n=t.target.scrollLeft;o({x:n,y:e})}}}}var H=function(){var t=Object(l.c)((function(t){return t.gridState})),e=Object(l.b)(),n=L(),c=t.data,r=t.index,a=t.header,i=n.cellMoveInfo,o=n.headerMoveInfo,d=n.indexMoveInfo,u=100,x=c.length,f=0==x?0:c[0].length,p={width:800,height:50,overflow:"hidden",marginBottom:10},j={width:u,height:600,overflow:"hidden",marginRight:10},y={display:"flex",flexDirection:"row"},O={width:815,height:615,overflow:"scroll"},b={width:u,height:50,marginRight:10,marginBottom:10},v={top:-n.scrollPosition.y,position:"relative"},m={left:-n.scrollPosition.x,position:"relative"},E=function(){for(var t=x,e=[],n=0;n<t;n++)for(var c=0;c<1;c++){var a=[];d.isSrc(n)?a.push("src-cell"):a.push("index-cell"),(d.isSrc(n)||d.isBottomEmpty(n))&&a.push("is-bottom-cell");var i={isRightEnd:0===c,isBottom:n===t-1,top:50*n+d.yPosOffset(n)+50*d.yOffset(n),left:100*c,height:50,width:100,content:r[n],classes:a,key:1*n+c,opacity:1,zIndex:d.isSrc(n)?3:0};e.push(Object(s.jsx)(k,Object(h.a)({},i)))}return Object(s.jsx)("div",{style:{position:"relative"},children:Object(s.jsxs)("div",{style:v,children:[e," "]})})},g=function(){for(var t=f,e=[],n=0;n<1;n++)for(var c=0;c<t;c++){var r=[];o.isSrc(c)?r.push("src-cell"):r.push("header-cell"),(o.isSrc(c)||o.isRightEmpty(c))&&r.push("is-right-cell");var i={isRightEnd:c===t-1,isBottom:0===n,top:50*n,left:100*c+o.xPosOffset(c)+100*o.xOffset(c),height:50,width:100,content:a[c],classes:r,key:n*t+c,opacity:1,zIndex:o.isSrc(c)?3:0};e.push(Object(s.jsx)(k,Object(h.a)({},i)))}return Object(s.jsx)("div",{style:{position:"relative"},children:Object(s.jsxs)("div",{style:m,children:[e," "]})})},_=function(){for(var t=f,n=x,r=[],a=function(a){for(var l=function(l){var u=i.isSrcCell(a,l),x=i.isDstCell(a,l),f=i.isSrcCell(a,l)||d.isSrc(a)||o.isSrc(l),p=function(s){var r=[];return s?r=r.concat(["is-right-cell","is-bottom-cell","src-cell"]):(u||x?u?r.push("src-cell"):r.push("dst-cell"):r.push("main-cell"),(o.isSrc(l)||o.isRightEmpty(l))&&r.push("is-right-cell"),(d.isSrc(a)||d.isBottomEmpty(a))&&r.push("is-bottom-cell")),{isRightEnd:l===t-1,isBottom:a===n-1,top:50*a+d.yPosOffset(a)+50*d.yOffset(a)+(s?i.posOffset(a,l).y:0),left:100*l+o.xPosOffset(l)+100*o.xOffset(l)+(s?i.posOffset(a,l).x:0),height:50,width:100,content:"".concat(c[a][l]),classes:r,onClick:function(){e({type:"GRIDSTATE_UPDATE",payload:{addition:10,y:a,x:l}})},opacity:s?.7:1,key:a*t+l+(s?1e6:0),zIndex:f?3:0}},j=p(!1);if(r.push(Object(s.jsx)(k,Object(h.a)({},j))),u){var y=p(!0);r.push(Object(s.jsx)(k,Object(h.a)({},y)))}},u=0;u<t;u++)l(u)},l=0;l<n;l++)a(l);return Object(s.jsx)("div",{style:{position:"relative"},children:Object(s.jsxs)("div",{children:[r," "]})})};return Object(s.jsxs)("div",Object(h.a)(Object(h.a)({style:{display:"flex",flexDirection:"column"}},n.gridEvents),{},{children:[Object(s.jsxs)("div",{style:y,children:[Object(s.jsx)("div",{style:b}),Object(s.jsx)("div",{style:p,children:Object(s.jsx)(g,{})})]}),Object(s.jsxs)("div",{style:y,children:[Object(s.jsx)("div",{style:j,children:Object(s.jsx)(E,{})}),Object(s.jsx)("div",Object(h.a)(Object(h.a)({style:O},n.dataFrameEvents),{},{children:Object(s.jsx)(_,{})}))]})]}))},q=function(){return Object(s.jsx)(T.a,{className:"py-4 mx-4",style:{maxWidth:"none"},children:Object(s.jsx)(H,{})})},J=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(D,{children:Object(s.jsxs)(I.a,{children:[Object(s.jsx)(w.a,{md:"3",children:Object(s.jsx)(A,{})}),Object(s.jsx)(w.a,{md:"9",children:Object(s.jsx)(q,{})})]})})})},Q=Object(o.c)(v);var K=function(){return Object(s.jsx)(d.a,{children:Object(s.jsxs)(l.a,{store:Q,children:[Object(s.jsx)(u.a,{exact:!0,path:"/",component:J}),Object(s.jsx)(u.a,{exact:!0,path:"/spreadsheet",component:J})]})})},Z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(e){var n=e.getCLS,s=e.getFID,c=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),s(t),c(t),r(t),a(t)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(K,{})}),document.getElementById("root")),Z()}},[[46,1,2]]]);
//# sourceMappingURL=main.fd881873.chunk.js.map